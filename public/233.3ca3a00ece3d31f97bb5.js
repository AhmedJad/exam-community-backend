"use strict";(self.webpackChunkexam_ui=self.webpackChunkexam_ui||[]).push([[233],{8233:(_,s,n)=>{n.r(s),n.d(s,{EmailVerificationModule:()=>Z});var f=n(8583),o=n(665),p=n(7709),m=n(6782),i=n(639),v=n(959),d=n(6653),a=n(72),h=n(9075);function g(e,r){1&e&&(i.TgZ(0,"div",14),i._uU(1," \u062a\u0645 \u0627\u0639\u0627\u062f\u0629 \u0627\u0631\u0633\u0627\u0644 \u0631\u0645\u0632 \u0627\u0644\u062a\u0627\u0643\u064a\u062f "),i.qZA())}function A(e,r){1&e&&(i.ynx(0),i._uU(1," \u0627\u062f\u062e\u0644 \u0631\u0645\u0632 \u0627\u0644\u062a\u0627\u0643\u064a\u062f "),i.BQk())}function C(e,r){1&e&&(i.ynx(0),i._uU(1," \u0631\u0645\u0632 \u0627\u0644\u062a\u0627\u0643\u064a\u062f \u063a\u064a\u0631 \u0635\u062d\u064a\u062d "),i.BQk())}const b=[{path:"",component:(()=>{class e{constructor(t,u,c,l,x){this._formBuilder=t,this._authClient=u,this._router=c,this._spinner=l,this._title=x,this.form=new o.cw({}),this.verificationCodeValid=!0,this.submitted=!1,this.verificationCodeSent=!1,this.unsubscribeAll=new p.xQ}get verification_code(){return this.form.get("verification_code")}ngOnInit(){this.form=this._formBuilder.group({verification_code:["",[o.kI.required]]}),this._title.setTitle("\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644")}ngOnDestroy(){this.unsubscribeAll.next(),this.unsubscribeAll.complete()}verifyEmail(){this.submitted=!0,this.form.invalid?this.form.markAllAsTouched():(this._spinner.show(void 0,{type:"ball-spin-clockwise",size:"medium",bdColor:"none"}),this._authClient.verifyEmail(this.form.value).pipe((0,m.R)(this.unsubscribeAll)).subscribe(()=>{this._spinner.hide(),this._router.navigate(["exam/administration"])},t=>{console.log(t),400==t.status&&(this.verificationCodeValid=!1,this._spinner.hide())}))}resendVerificationCode(t){this.verificationCodeSent=!1,t.preventDefault(),this._spinner.show(void 0,{type:"ball-spin-clockwise",size:"medium",bdColor:"none"}),this._authClient.resendVerificationCode().pipe((0,m.R)(this.unsubscribeAll)).subscribe(()=>{this.verificationCodeSent=!0,this._spinner.hide()})}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(o.qu),i.Y36(v.$),i.Y36(d.F0),i.Y36(a.t2),i.Y36(h.Dx))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-email-verification"]],decls:23,vars:6,consts:[[1,"email-verification-box","border","col-lg-4","col-md-6","m-auto","mt-5"],["class","text-center text-success pt-3","role","alert",4,"ngIf"],[1,"header","text-center","mt-5"],[3,"formGroup"],[1,"mb-3"],[1,"form-label"],["formControlName","verification_code","type","text",1,"form-control","form-control-lg"],[1,"invalid-feedback"],[4,"ngIf"],[1,"footer","row","mt-5"],[1,"col-6"],["href","#",3,"click"],[1,"confirm","col-6"],[1,"btn","btn-primary",3,"click"],["role","alert",1,"text-center","text-success","pt-3"]],template:function(t,u){1&t&&(i._UZ(0,"ngx-spinner"),i.TgZ(1,"div",0),i.YNc(2,g,2,0,"div",1),i.TgZ(3,"div",2),i.TgZ(4,"h1"),i._uU(5,"\u062a\u0627\u0643\u064a\u062f \u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0627\u0644\u0643\u062a\u0631\u0648\u0646\u064a"),i.qZA(),i.TgZ(6,"div"),i._uU(7,"\u0627\u062f\u062e\u0644 \u0631\u0645\u0632 \u0627\u0644\u062a\u0627\u0643\u064a\u062f \u0644\u0644\u062f\u062e\u0648\u0644 \u0627\u0644\u0649 \u0645\u062c\u062a\u0645\u0639 \u0627\u0644\u0627\u0645\u062a\u062d\u0627\u0646\u0627\u062a"),i.qZA(),i.qZA(),i.TgZ(8,"form",3),i.TgZ(9,"div",4),i.TgZ(10,"label",5),i._uU(11,"\u0631\u0645\u0632 \u0627\u0644\u062a\u0627\u0643\u064a\u062f"),i.qZA(),i._UZ(12,"input",6),i.TgZ(13,"div",7),i.YNc(14,A,2,0,"ng-container",8),i.YNc(15,C,2,0,"ng-container",8),i.qZA(),i.qZA(),i.qZA(),i.TgZ(16,"div",9),i.TgZ(17,"div",10),i.TgZ(18,"a",11),i.NdJ("click",function(l){return u.resendVerificationCode(l)}),i._uU(19,"\u0627\u0639\u0627\u062f\u0629 \u0627\u0631\u0633\u0627\u0644 \u0631\u0645\u0632 \u0627\u0644\u062a\u0627\u0643\u064a\u062f"),i.qZA(),i.qZA(),i.TgZ(20,"div",12),i.TgZ(21,"button",13),i.NdJ("click",function(){return u.verifyEmail()}),i._uU(22,"\u062a\u0627\u0643\u064a\u062f"),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&t&&(i.xp6(2),i.Q6J("ngIf",u.verificationCodeSent),i.xp6(6),i.Q6J("formGroup",u.form),i.xp6(4),i.ekj("is-invalid",(!u.verificationCodeValid||u.verification_code.invalid)&&u.submitted),i.xp6(2),i.Q6J("ngIf",u.verification_code.hasError("required")),i.xp6(1),i.Q6J("ngIf",!u.verificationCodeValid))},directives:[a.Ro,f.O5,o._Y,o.JL,o.sg,o.Fj,o.JJ,o.u],styles:[".email-verification-box[_ngcontent-%COMP%]{border-radius:8px}@media (max-width: 767px){.email-verification-box[_ngcontent-%COMP%]{border:none!important}}.email-verification-box[_ngcontent-%COMP%]   form[_ngcontent-%COMP%], .email-verification-box[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{padding:40px}.email-verification-box[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-block;margin-top:4px;text-decoration:none}.email-verification-box[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .confirm[_ngcontent-%COMP%]{text-align:left}"]}),e})()}];let Z=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[f.ez,d.Bz.forChild(b),o.UX,a.ef]]}),e})()}}]);