"use strict";(self.webpackChunkexam_ui=self.webpackChunkexam_ui||[]).push([[592],{1971:(p,_,o)=>{o.d(_,{_:()=>n,w:()=>c});var r=o(639),s=o(8583),n=function(){function e(t,i,g){this._el=t,this._ngZone=i,this.platformId=g,this.clickOutsideEnabled=!0,this.attachOutsideOnClick=!1,this.delayClickOutsideInit=!1,this.emitOnBlur=!1,this.exclude="",this.excludeBeforeClick=!1,this.clickOutsideEvents="",this.clickOutside=new r.vpe,this._nodesExcluded=[],this._events=["click"],this._initOnClickBody=this._initOnClickBody.bind(this),this._onClickBody=this._onClickBody.bind(this),this._onWindowBlur=this._onWindowBlur.bind(this)}return e.prototype.ngOnInit=function(){!(0,s.NF)(this.platformId)||this._init()},e.prototype.ngOnDestroy=function(){!(0,s.NF)(this.platformId)||(this._removeClickOutsideListener(),this._removeAttachOutsideOnClickListener(),this._removeWindowBlurListener())},e.prototype.ngOnChanges=function(t){!(0,s.NF)(this.platformId)||(t.attachOutsideOnClick||t.exclude||t.emitOnBlur)&&this._init()},e.prototype._init=function(){""!==this.clickOutsideEvents&&(this._events=this.clickOutsideEvents.split(",").map(function(t){return t.trim()})),this._excludeCheck(),this.attachOutsideOnClick?this._initAttachOutsideOnClickListener():this._initOnClickBody(),this.emitOnBlur&&this._initWindowBlurListener()},e.prototype._initOnClickBody=function(){this.delayClickOutsideInit?setTimeout(this._initClickOutsideListener.bind(this)):this._initClickOutsideListener()},e.prototype._excludeCheck=function(){if(this.exclude)try{var t=Array.from(document.querySelectorAll(this.exclude));t&&(this._nodesExcluded=t)}catch(i){console.error("[ng-click-outside] Check your exclude selector syntax.",i)}},e.prototype._onClickBody=function(t){!this.clickOutsideEnabled||(this.excludeBeforeClick&&this._excludeCheck(),!this._el.nativeElement.contains(t.target)&&!this._shouldExclude(t.target)&&(this._emit(t),this.attachOutsideOnClick&&this._removeClickOutsideListener()))},e.prototype._onWindowBlur=function(t){var i=this;setTimeout(function(){document.hidden||i._emit(t)})},e.prototype._emit=function(t){var i=this;!this.clickOutsideEnabled||this._ngZone.run(function(){return i.clickOutside.emit(t)})},e.prototype._shouldExclude=function(t){for(var i=0,g=this._nodesExcluded;i<g.length;i++)if(g[i].contains(t))return!0;return!1},e.prototype._initClickOutsideListener=function(){var t=this;this._ngZone.runOutsideAngular(function(){t._events.forEach(function(i){return document.addEventListener(i,t._onClickBody)})})},e.prototype._removeClickOutsideListener=function(){var t=this;this._ngZone.runOutsideAngular(function(){t._events.forEach(function(i){return document.removeEventListener(i,t._onClickBody)})})},e.prototype._initAttachOutsideOnClickListener=function(){var t=this;this._ngZone.runOutsideAngular(function(){t._events.forEach(function(i){return t._el.nativeElement.addEventListener(i,t._initOnClickBody)})})},e.prototype._removeAttachOutsideOnClickListener=function(){var t=this;this._ngZone.runOutsideAngular(function(){t._events.forEach(function(i){return t._el.nativeElement.removeEventListener(i,t._initOnClickBody)})})},e.prototype._initWindowBlurListener=function(){var t=this;this._ngZone.runOutsideAngular(function(){window.addEventListener("blur",t._onWindowBlur)})},e.prototype._removeWindowBlurListener=function(){var t=this;this._ngZone.runOutsideAngular(function(){window.removeEventListener("blur",t._onWindowBlur)})},e.\u0275fac=function(i){return new(i||e)(r.Y36(r.SBq),r.Y36(r.R0b),r.Y36(r.Lbi))},e.\u0275dir=r.lG2({type:e,selectors:[["","clickOutside",""]],inputs:{clickOutsideEnabled:"clickOutsideEnabled",attachOutsideOnClick:"attachOutsideOnClick",delayClickOutsideInit:"delayClickOutsideInit",emitOnBlur:"emitOnBlur",exclude:"exclude",excludeBeforeClick:"excludeBeforeClick",clickOutsideEvents:"clickOutsideEvents"},outputs:{clickOutside:"clickOutside"},features:[r.TTD]}),e}(),c=function(){function e(){}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e}()},3502:(p,_,o)=>{o.d(_,{S:()=>M});var r=o(7709),s=o(6782),n=o(639),c=o(8128),e=o(959),t=o(6653),i=o(72),g=o(1971),h=o(8583);function m(d,v){if(1&d){const a=n.EpF();n.TgZ(0,"a",23),n.NdJ("click",function(){return n.CHM(a),n.oxw(2).deleteImage()}),n._uU(1," \u0627\u0632\u0627\u0644\u0629 \u0627\u0644\u0635\u0648\u0631\u0629 "),n.qZA()}}const C=function(d){return{"background-image":d}};function f(d,v){if(1&d){const a=n.EpF();n.TgZ(0,"div",12),n.TgZ(1,"div",13),n.TgZ(2,"input",14),n.NdJ("change",function(l){return n.CHM(a),n.oxw().changeImage(l)}),n.qZA(),n.TgZ(3,"label",15),n._UZ(4,"i",16),n.qZA(),n.qZA(),n.TgZ(5,"div",17),n.YNc(6,m,2,0,"a",18),n.TgZ(7,"h1",19),n._uU(8),n.qZA(),n.TgZ(9,"div",20),n._uU(10),n.qZA(),n.qZA(),n._UZ(11,"hr",21),n.TgZ(12,"button",22),n.NdJ("click",function(){return n.CHM(a),n.oxw().logout()}),n._uU(13,"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062e\u0631\u0648\u062c \u0645\u0646 \u0647\u0630\u0627 \u0627\u0644\u062d\u0633\u0627\u0628"),n.qZA(),n.qZA()}if(2&d){const a=n.oxw();let u,l;n.xp6(1),n.Q6J("ngStyle",n.VKq(4,C,"url("+a.imagePath+")")),n.xp6(5),n.Q6J("ngIf",a.imagePath!=a.defaultImage),n.xp6(2),n.Oqu((null==(u=a._token.payload())?null:u.first_name)+" "+(null==(u=a._token.payload())?null:u.last_name)),n.xp6(2),n.Oqu(null==(l=a._token.payload())?null:l.email)}}let M=(()=>{class d{constructor(a,u,l,O){this._token=a,this._authClient=u,this._router=l,this._spinner=O,this.currentPage="exam-admin",this.showMenu=!1,this.imagePath="",this.defaultImage="assets/images/default.jpg",this.unsubscribeAll=new r.xQ}ngOnInit(){this._spinner.show(void 0,{type:"ball-spin-clockwise",size:"medium",bdColor:"none"}),this._authClient.getCurrentUser().pipe((0,s.R)(this.unsubscribeAll)).subscribe(a=>{this._spinner.hide(),this.imagePath=a.image?a.image:this.defaultImage})}ngOnDestroy(){this.unsubscribeAll.next(),this.unsubscribeAll.complete()}logout(){this._spinner.show(void 0,{type:"ball-spin-clockwise",size:"medium",bdColor:"none"}),this._authClient.logout().pipe((0,s.R)(this.unsubscribeAll)).subscribe(()=>{this._spinner.hide(),this._router.navigate(["home"]),this._token.remove()})}changeImage(a){this._spinner.show(void 0,{type:"ball-spin-clockwise",size:"medium",bdColor:"none"});const u=a.target.files[0];if(u){const l=new FormData;l.append("image",u),this._authClient.editImage(l).pipe((0,s.R)(this.unsubscribeAll)).subscribe(O=>{this._spinner.hide(),this.imagePath=O.image},O=>console.log(O))}}deleteImage(){this._spinner.show(void 0,{type:"ball-spin-clockwise",size:"medium",bdColor:"none"}),this._authClient.deleteImage().pipe((0,s.R)(this.unsubscribeAll)).subscribe(()=>{this._spinner.hide(),this.imagePath=this.defaultImage},a=>console.log(a))}}return d.\u0275fac=function(a){return new(a||d)(n.Y36(c.B),n.Y36(e.$),n.Y36(t.F0),n.Y36(i.t2))},d.\u0275cmp=n.Xpm({type:d,selectors:[["navbar"]],inputs:{currentPage:"currentPage"},decls:15,vars:8,consts:[[1,"auth-nav","navbar","navbar-expand-lg","navbar-light","border-bottom"],[1,"container-fluid"],[1,"navbar-brand"],[1,"user",3,"clickOutside"],["type","button",1,"avatar","border","text-center","rounded-circle",3,"ngStyle","click"],["class","menu text-center pt-3 border shadow",4,"ngIf"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNavAltMarkup","aria-controls","navbarNavAltMarkup","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNavAltMarkup",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto"],["href","/exam/solution",1,"nav-link"],["href","/exam/administration",1,"nav-link"],[1,"menu","text-center","pt-3","border","shadow"],[1,"edit-image","avatar","border","rounded-circle",3,"ngStyle"],["accept","image/png, image/gif, image/jpeg","id","file","type","file",3,"change"],["for","file",1,"icon","border","rounded-circle","shadow"],[1,"fa-solid","fa-camera"],[1,"header"],["class","delete",3,"click",4,"ngIf"],[1,"mt-3"],[1,"email"],[1,"hr"],[1,"logout",3,"click"],[1,"delete",3,"click"]],template:function(a,u){1&a&&(n._UZ(0,"ngx-spinner"),n.TgZ(1,"nav",0),n.TgZ(2,"div",1),n.TgZ(3,"div",2),n.TgZ(4,"div",3),n.NdJ("clickOutside",function(){return u.showMenu=!1}),n.TgZ(5,"button",4),n.NdJ("click",function(){return u.showMenu=!u.showMenu}),n.qZA(),n.YNc(6,f,14,6,"div",5),n.qZA(),n.qZA(),n.TgZ(7,"button",6),n._UZ(8,"span",7),n.qZA(),n.TgZ(9,"div",8),n.TgZ(10,"div",9),n.TgZ(11,"a",10),n._uU(12," \u062d\u0644 \u0627\u0644\u0627\u0645\u062a\u062d\u0627\u0646\u0627\u062a "),n.qZA(),n.TgZ(13,"a",11),n._uU(14," \u0627\u062f\u0627\u0631\u0629 \u0627\u0644\u0627\u0645\u062a\u062d\u0627\u0646\u0627\u062a "),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&a&&(n.xp6(5),n.Q6J("ngStyle",n.VKq(6,C,"url("+u.imagePath+")")),n.xp6(1),n.Q6J("ngIf",u.showMenu),n.xp6(5),n.ekj("active","exam-solution"==u.currentPage),n.xp6(2),n.ekj("active","exam-admin"==u.currentPage))},directives:[i.Ro,g._,h.PC,h.O5],styles:[".auth-nav[_ngcontent-%COMP%]{overflow:visible}.auth-nav[_ngcontent-%COMP%]   .hidden[_ngcontent-%COMP%]{visibility:hidden}.auth-nav[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]{position:relative;top:3px}.auth-nav[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{position:relative;display:inline-block;top:3px;padding-left:20px}.auth-nav[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:45px;height:45px;background-repeat:none;background-size:cover}.auth-nav[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]{padding-bottom:20px;position:absolute;top:32px;right:30px;width:300px;overflow:visible;z-index:999;background-color:#fff;border-radius:10px}.auth-nav[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]{display:inline-block;color:#ad2d2d;text-decoration:none}.auth-nav[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%]{color:#5f6368}.auth-nav[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]:hover{cursor:pointer}.auth-nav[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .edit-image[_ngcontent-%COMP%]{width:80px;height:80px;position:relative;display:inline-block}.auth-nav[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .edit-image[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}.auth-nav[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .edit-image[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{position:absolute;width:25px;height:25px;background-color:#fff;top:54px;left:-4px}.auth-nav[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .edit-image[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:hover{cursor:pointer}.auth-nav[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .edit-image[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;position:relative;top:1px}.auth-nav[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .logout[_ngcontent-%COMP%]{background:none;padding:7px;border:1px solid #bebebf;border-radius:5px}.auth-nav[_ngcontent-%COMP%]   .navbar-collapse[_ngcontent-%COMP%]{text-align:right}"]}),d})()},7643:(p,_,o)=>{o.d(_,{W:()=>t});var r=o(8583),s=o(1971),n=o(72),c=o(6653),e=o(639);let t=(()=>{class i{}return i.\u0275fac=function(h){return new(h||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[r.ez,s.w,n.ef,c.Bz]]}),i})()},7189:(p,_,o)=>{o.d(_,{l:()=>n});var r=o(8583),s=o(639);let n=(()=>{class c{}return c.\u0275fac=function(t){return new(t||c)},c.\u0275mod=s.oAB({type:c}),c.\u0275inj=s.cJS({imports:[[r.ez]]}),c})()},446:(p,_,o)=>{function r(s){let n=s.get("password"),c=s.get("password_confirmation");return n.value&&""==n.value||c.value&&""==c.value||n.value==c.value?null:{notMatch:!0}}o.d(_,{t:()=>r})}}]);