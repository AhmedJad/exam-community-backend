"use strict";(self.webpackChunkexam_ui=self.webpackChunkexam_ui||[]).push([[629],{1971:(O,h,r)=>{r.d(h,{_:()=>n,w:()=>g});var c=r(639),l=r(8583),n=function(){function e(t,i,_){this._el=t,this._ngZone=i,this.platformId=_,this.clickOutsideEnabled=!0,this.attachOutsideOnClick=!1,this.delayClickOutsideInit=!1,this.emitOnBlur=!1,this.exclude="",this.excludeBeforeClick=!1,this.clickOutsideEvents="",this.clickOutside=new c.vpe,this._nodesExcluded=[],this._events=["click"],this._initOnClickBody=this._initOnClickBody.bind(this),this._onClickBody=this._onClickBody.bind(this),this._onWindowBlur=this._onWindowBlur.bind(this)}return e.prototype.ngOnInit=function(){!(0,l.NF)(this.platformId)||this._init()},e.prototype.ngOnDestroy=function(){!(0,l.NF)(this.platformId)||(this._removeClickOutsideListener(),this._removeAttachOutsideOnClickListener(),this._removeWindowBlurListener())},e.prototype.ngOnChanges=function(t){!(0,l.NF)(this.platformId)||(t.attachOutsideOnClick||t.exclude||t.emitOnBlur)&&this._init()},e.prototype._init=function(){""!==this.clickOutsideEvents&&(this._events=this.clickOutsideEvents.split(",").map(function(t){return t.trim()})),this._excludeCheck(),this.attachOutsideOnClick?this._initAttachOutsideOnClickListener():this._initOnClickBody(),this.emitOnBlur&&this._initWindowBlurListener()},e.prototype._initOnClickBody=function(){this.delayClickOutsideInit?setTimeout(this._initClickOutsideListener.bind(this)):this._initClickOutsideListener()},e.prototype._excludeCheck=function(){if(this.exclude)try{var t=Array.from(document.querySelectorAll(this.exclude));t&&(this._nodesExcluded=t)}catch(i){console.error("[ng-click-outside] Check your exclude selector syntax.",i)}},e.prototype._onClickBody=function(t){!this.clickOutsideEnabled||(this.excludeBeforeClick&&this._excludeCheck(),!this._el.nativeElement.contains(t.target)&&!this._shouldExclude(t.target)&&(this._emit(t),this.attachOutsideOnClick&&this._removeClickOutsideListener()))},e.prototype._onWindowBlur=function(t){var i=this;setTimeout(function(){document.hidden||i._emit(t)})},e.prototype._emit=function(t){var i=this;!this.clickOutsideEnabled||this._ngZone.run(function(){return i.clickOutside.emit(t)})},e.prototype._shouldExclude=function(t){for(var i=0,_=this._nodesExcluded;i<_.length;i++)if(_[i].contains(t))return!0;return!1},e.prototype._initClickOutsideListener=function(){var t=this;this._ngZone.runOutsideAngular(function(){t._events.forEach(function(i){return document.addEventListener(i,t._onClickBody)})})},e.prototype._removeClickOutsideListener=function(){var t=this;this._ngZone.runOutsideAngular(function(){t._events.forEach(function(i){return document.removeEventListener(i,t._onClickBody)})})},e.prototype._initAttachOutsideOnClickListener=function(){var t=this;this._ngZone.runOutsideAngular(function(){t._events.forEach(function(i){return t._el.nativeElement.addEventListener(i,t._initOnClickBody)})})},e.prototype._removeAttachOutsideOnClickListener=function(){var t=this;this._ngZone.runOutsideAngular(function(){t._events.forEach(function(i){return t._el.nativeElement.removeEventListener(i,t._initOnClickBody)})})},e.prototype._initWindowBlurListener=function(){var t=this;this._ngZone.runOutsideAngular(function(){window.addEventListener("blur",t._onWindowBlur)})},e.prototype._removeWindowBlurListener=function(){var t=this;this._ngZone.runOutsideAngular(function(){window.removeEventListener("blur",t._onWindowBlur)})},e.\u0275fac=function(i){return new(i||e)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(c.Lbi))},e.\u0275dir=c.lG2({type:e,selectors:[["","clickOutside",""]],inputs:{clickOutsideEnabled:"clickOutsideEnabled",attachOutsideOnClick:"attachOutsideOnClick",delayClickOutsideInit:"delayClickOutsideInit",emitOnBlur:"emitOnBlur",exclude:"exclude",excludeBeforeClick:"excludeBeforeClick",clickOutsideEvents:"clickOutsideEvents"},outputs:{clickOutside:"clickOutside"},features:[c.TTD]}),e}(),g=function(){function e(){}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({}),e}()},3502:(O,h,r)=>{r.d(h,{S:()=>b});var c=r(7709),l=r(6782),n=r(639),g=r(8128),e=r(959),t=r(6653),i=r(72),_=r(1971),p=r(8583);function m(u,v){if(1&u){const o=n.EpF();n.TgZ(0,"a",24),n.NdJ("click",function(){return n.CHM(o),n.oxw(2).deleteImage()}),n._uU(1," \u0627\u0632\u0627\u0644\u0629 \u0627\u0644\u0635\u0648\u0631\u0629 "),n.qZA()}}const C=function(u){return{"background-image":u}};function f(u,v){if(1&u){const o=n.EpF();n.TgZ(0,"div",13),n.TgZ(1,"div",14),n.TgZ(2,"input",15),n.NdJ("change",function(s){return n.CHM(o),n.oxw().changeImage(s)}),n.qZA(),n.TgZ(3,"label",16),n._UZ(4,"i",17),n.qZA(),n.qZA(),n.TgZ(5,"div",18),n.YNc(6,m,2,0,"a",19),n.TgZ(7,"h1",20),n._uU(8),n.qZA(),n.TgZ(9,"div",21),n._uU(10),n.qZA(),n.qZA(),n._UZ(11,"hr",22),n.TgZ(12,"button",23),n.NdJ("click",function(){return n.CHM(o),n.oxw().logout()}),n._uU(13,"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062e\u0631\u0648\u062c \u0645\u0646 \u0647\u0630\u0627 \u0627\u0644\u062d\u0633\u0627\u0628"),n.qZA(),n.qZA()}if(2&u){const o=n.oxw();let a,s;n.xp6(1),n.Q6J("ngStyle",n.VKq(4,C,"url("+o.imagePath+")")),n.xp6(5),n.Q6J("ngIf",o.imagePath!=o.defaultImage),n.xp6(2),n.Oqu((null==(a=o._token.payload())?null:a.first_name)+" "+(null==(a=o._token.payload())?null:a.last_name)),n.xp6(2),n.Oqu(null==(s=o._token.payload())?null:s.email)}}let b=(()=>{class u{constructor(o,a,s,d){this._token=o,this._authClient=a,this._router=s,this._spinner=d,this.currentPage="exam-admin",this.showMenu=!1,this.imagePath="",this.defaultImage="assets/images/default.jpg",this.unsubscribeAll=new c.xQ}ngOnInit(){this._spinner.show(void 0,{type:"ball-spin-clockwise",size:"medium",bdColor:"none"}),this._authClient.getCurrentUser().pipe((0,l.R)(this.unsubscribeAll)).subscribe(o=>{this._spinner.hide(),this.imagePath=o.image?o.image:this.defaultImage})}ngOnDestroy(){this.unsubscribeAll.next(),this.unsubscribeAll.complete()}logout(){this._spinner.show(void 0,{type:"ball-spin-clockwise",size:"medium",bdColor:"none"}),this._authClient.logout().pipe((0,l.R)(this.unsubscribeAll)).subscribe(()=>{this._spinner.hide(),this._router.navigate(["auth/login"]),this._token.remove()})}changeImage(o){this._spinner.show(void 0,{type:"ball-spin-clockwise",size:"medium",bdColor:"none"});const a=o.target.files[0];if(a){const s=new FormData;s.append("image",a),this._authClient.editImage(s).pipe((0,l.R)(this.unsubscribeAll)).subscribe(d=>{this._spinner.hide(),this.imagePath=d.image},d=>console.log(d))}}deleteImage(){this._spinner.show(void 0,{type:"ball-spin-clockwise",size:"medium",bdColor:"none"}),this._authClient.deleteImage().pipe((0,l.R)(this.unsubscribeAll)).subscribe(()=>{this._spinner.hide(),this.imagePath=this.defaultImage},o=>console.log(o))}navigate(o,a){o.preventDefault(),this._spinner.show(void 0,{type:"ball-spin-clockwise",size:"medium",bdColor:"none"}),this._router.navigate([a])}}return u.\u0275fac=function(o){return new(o||u)(n.Y36(g.B),n.Y36(e.$),n.Y36(t.F0),n.Y36(i.t2))},u.\u0275cmp=n.Xpm({type:u,selectors:[["navbar"]],inputs:{currentPage:"currentPage"},decls:15,vars:8,consts:[[1,"navbar","border-bottom","navbar-expand-lg","navbar-light"],[1,"container-fluid"],[1,"navbar-brand"],[1,"user",3,"clickOutside"],["type","button",1,"avatar","border","text-center","rounded-circle",3,"ngStyle","click"],["class","menu text-center pt-3 border shadow",4,"ngIf"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNavAltMarkup","aria-controls","navbarNavAltMarkup","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNavAltMarkup",1,"collapse","navbar-collapse"],[1,"navbar-nav"],["href","#",1,"nav-link",3,"click"],[1,"fas","fa-bars"],[1,"fas","fa-gear"],[1,"menu","text-center","pt-3","border","shadow"],[1,"edit-image","avatar","border","rounded-circle",3,"ngStyle"],["accept","image/png, image/gif, image/jpeg","id","file","type","file",3,"change"],["for","file",1,"icon","border","rounded-circle","shadow"],[1,"fa-solid","fa-camera"],[1,"header"],["class","delete",3,"click",4,"ngIf"],[1,"mt-3"],[1,"email"],[1,"hr"],[1,"logout",3,"click"],[1,"delete",3,"click"]],template:function(o,a){1&o&&(n._UZ(0,"ngx-spinner"),n.TgZ(1,"nav",0),n.TgZ(2,"div",1),n.TgZ(3,"div",2),n.TgZ(4,"div",3),n.NdJ("clickOutside",function(){return a.showMenu=!1}),n.TgZ(5,"button",4),n.NdJ("click",function(){return a.showMenu=!a.showMenu}),n.qZA(),n.YNc(6,f,14,6,"div",5),n.qZA(),n.qZA(),n.TgZ(7,"button",6),n._UZ(8,"span",7),n.qZA(),n.TgZ(9,"div",8),n.TgZ(10,"div",9),n.TgZ(11,"a",10),n.NdJ("click",function(d){return a.navigate(d,"/exam/solution")}),n._UZ(12,"i",11),n.qZA(),n.TgZ(13,"a",10),n.NdJ("click",function(d){return a.navigate(d,"/exam/administration")}),n._UZ(14,"i",12),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&o&&(n.xp6(5),n.Q6J("ngStyle",n.VKq(6,C,"url("+a.imagePath+")")),n.xp6(1),n.Q6J("ngIf",a.showMenu),n.xp6(5),n.ekj("active","exam-solution"==a.currentPage),n.xp6(2),n.ekj("active","exam-admin"==a.currentPage))},directives:[i.Ro,_._,p.PC,p.O5],styles:[".navbar[_ngcontent-%COMP%]{overflow:visible}.navbar[_ngcontent-%COMP%]   .hidden[_ngcontent-%COMP%]{visibility:hidden}.navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{margin-left:20px}.navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px;color:inherit;margin-left:10px;position:relative;top:2px}.navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{position:relative;display:inline-block;top:3px;padding-left:20px}.navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:45px;height:45px;background-repeat:none;background-size:cover}.navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]{padding-bottom:20px;position:absolute;top:32px;right:30px;width:300px;overflow:visible;z-index:999;background-color:#fff;border-radius:10px}.navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]{display:inline-block;color:#ad2d2d;text-decoration:none}.navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%]{color:#5f6368}.navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]:hover{cursor:pointer}.navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .edit-image[_ngcontent-%COMP%]{width:80px;height:80px;position:relative;display:inline-block}.navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .edit-image[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}.navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .edit-image[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{position:absolute;width:25px;height:25px;background-color:#fff}.navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .edit-image[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{top:54px;left:-4px}.navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .edit-image[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:hover{cursor:pointer}.navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .logout[_ngcontent-%COMP%]{background:none;padding:7px;border:1px solid #bebebf;border-radius:5px}.navbar[_ngcontent-%COMP%]   .navbar-collapse[_ngcontent-%COMP%]{text-align:right}"]}),u})()},7643:(O,h,r)=>{r.d(h,{W:()=>e});var c=r(8583),l=r(1971),n=r(72),g=r(639);let e=(()=>{class t{}return t.\u0275fac=function(_){return new(_||t)},t.\u0275mod=g.oAB({type:t}),t.\u0275inj=g.cJS({imports:[[c.ez,l.w,n.ef]]}),t})()}}]);