"use strict";(self.webpackChunkexam_ui=self.webpackChunkexam_ui||[]).push([[487],{9532:(M,l,o)=>{o.r(l),o.d(l,{ResetPasswordModule:()=>P});var p=o(8583),n=o(665),c=o(7709),m=o(6782),f=o(446),t=o(639),g=o(9075),a=o(72),h=o(959),i=o(6653),A=o(8128);function w(e,r){1&e&&(t.TgZ(0,"div",19),t._uU(1," \u0631\u0645\u0632 \u0627\u0644\u062a\u0627\u0643\u064a\u062f \u063a\u064a\u0631 \u0635\u062d\u064a\u062d "),t.qZA())}function Z(e,r){1&e&&(t.ynx(0),t._uU(1," \u0627\u062f\u062e\u0644 \u0643\u0644\u0645\u0629 \u0627\u0644\u0633\u0631 "),t.BQk())}function v(e,r){1&e&&(t.ynx(0),t._uU(1," \u0643\u0644\u0645\u0629 \u0627\u0644\u0633\u0631 \u0636\u0639\u064a\u0641\u0629 "),t.BQk())}function T(e,r){1&e&&(t.ynx(0),t._uU(1," \u0627\u062f\u062e\u0644 \u0643\u0644\u0645\u0629 \u0627\u0644\u0633\u0631 \u0645\u0631\u0629 \u0627\u062e\u0631\u0629 "),t.BQk())}function C(e,r){1&e&&(t.ynx(0),t._uU(1," \u0643\u0644\u0645\u0629 \u0627\u0644\u0633\u0631 \u063a\u064a\u0631 \u0645\u062a\u0637\u0627\u0628\u0642\u0629 "),t.BQk())}const _=[{path:"",component:(()=>{class e{constructor(s,u,d,b,k,R,y){this._title=s,this._formBuilder=u,this._spinner=d,this._authClient=b,this._activatedRoute=k,this._router=R,this._token=y,this.form=new n.cw({}),this.submitted=!1,this.invalidToken=!1,this.passwordHidden=!0,this.unsubscribeAll=new c.xQ}get password(){return this.form.get("password")}get password_confirmation(){return this.form.get("password_confirmation")}ngOnInit(){this.form=this._formBuilder.group({token:[this._activatedRoute.snapshot.paramMap.get("token")],password:["",[n.kI.required,n.kI.pattern("(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[$@$!%*?&])[A-Za-zd$@$!%*?&].{8,}")]],password_confirmation:["",[n.kI.required]]},{validator:f.t}),this._title.setTitle("\u062a\u063a\u064a\u0631 \u0643\u0644\u0645\u0629 \u0627\u0644\u0633\u0631")}ngOnDestroy(){this.unsubscribeAll.next(),this.unsubscribeAll.complete()}resetPassword(){this.submitted=!0,this.form.invalid?this.form.markAllAsTouched():(this._spinner.show(void 0,{type:"ball-spin-clockwise",size:"medium",bdColor:"none"}),this._authClient.resetPassword(this.form.value).pipe((0,m.R)(this.unsubscribeAll)).subscribe(s=>{this._token.set(s.access_token),this._spinner.hide(),this._router.navigate(["exam/administration"])},s=>{400==s.status&&(this._spinner.hide(),this.invalidToken=!0)}))}}return e.\u0275fac=function(s){return new(s||e)(t.Y36(g.Dx),t.Y36(n.qu),t.Y36(a.t2),t.Y36(h.$),t.Y36(i.gz),t.Y36(i.F0),t.Y36(A.B))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-reset-password"]],decls:34,vars:12,consts:[[1,"reset-password-box","border","col-lg-4","col-md-6","m-auto","mt-5"],["class","text-center text-danger pt-3","role","alert",4,"ngIf"],[1,"header","text-center","mt-5"],[3,"formGroup"],[1,"mb-3"],[1,"form-label"],["formControlName","password",1,"form-control","form-control-lg",3,"type"],[1,"invalid-feedback"],[4,"ngIf"],["routerLink","/auth/forget-password"],["formControlName","password_confirmation",1,"form-control","form-control-lg",3,"type"],[1,"form-check"],["type","checkbox","value","","id","flexCheckDefault",1,"form-check-input",3,"change"],["for","flexCheckDefault",1,"form-check-label"],[1,"footer","row"],[1,"col-6"],["routerLink","/auth/login"],[1,"confirm","col-6"],[1,"btn","w-50","btn-primary",3,"click"],["role","alert",1,"text-center","text-danger","pt-3"]],template:function(s,u){1&s&&(t._UZ(0,"ngx-spinner"),t.TgZ(1,"div",0),t.YNc(2,w,2,0,"div",1),t.TgZ(3,"div",2),t.TgZ(4,"h1"),t._uU(5,"\u062a\u063a\u064a\u0631 \u0643\u0644\u0645\u0629 \u0627\u0644\u0633\u0631"),t.qZA(),t.qZA(),t.TgZ(6,"form",3),t.TgZ(7,"div",4),t.TgZ(8,"label",5),t._uU(9,"\u0643\u0644\u0645\u0629 \u0627\u0644\u0633\u0631"),t.qZA(),t._UZ(10,"input",6),t.TgZ(11,"div",7),t.YNc(12,Z,2,0,"ng-container",8),t.YNc(13,v,2,0,"ng-container",8),t.qZA(),t.TgZ(14,"a",9),t._uU(15,"\u0627\u0639\u0627\u062f\u0629 \u0627\u0631\u0633\u0627\u0644 \u0628\u0631\u064a\u062f \u0627\u0644\u0643\u062a\u0631\u0648\u0646\u064a"),t.qZA(),t.qZA(),t.TgZ(16,"div",4),t.TgZ(17,"label",5),t._uU(18,"\u062a\u0627\u0643\u064a\u062f \u0643\u0644\u0645\u0629 \u0627\u0644\u0633\u0631"),t.qZA(),t._UZ(19,"input",10),t.TgZ(20,"div",7),t.YNc(21,T,2,0,"ng-container",8),t.YNc(22,C,2,0,"ng-container",8),t.qZA(),t.qZA(),t.TgZ(23,"div",11),t.TgZ(24,"input",12),t.NdJ("change",function(){return u.passwordHidden=!u.passwordHidden}),t.qZA(),t.TgZ(25,"label",13),t._uU(26," \u0627\u0638\u0647\u0627\u0631 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(27,"div",14),t.TgZ(28,"div",15),t.TgZ(29,"a",16),t._uU(30,"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644 \u0628\u062f\u0644\u0627 \u0645\u0646 \u0630\u0644\u0643"),t.qZA(),t.qZA(),t.TgZ(31,"div",17),t.TgZ(32,"button",18),t.NdJ("click",function(){return u.resetPassword()}),t._uU(33,"\u062a\u0627\u0643\u064a\u062f"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&s&&(t.xp6(2),t.Q6J("ngIf",u.invalidToken),t.xp6(4),t.Q6J("formGroup",u.form),t.xp6(4),t.ekj("is-invalid",u.password.invalid&&u.submitted),t.Q6J("type",u.passwordHidden?"password":"text"),t.xp6(2),t.Q6J("ngIf",u.password.hasError("required")),t.xp6(1),t.Q6J("ngIf",u.password.hasError("pattern")),t.xp6(6),t.ekj("is-invalid",(u.password_confirmation.invalid||u.form.hasError("notMatch"))&&u.submitted),t.Q6J("type",u.passwordHidden?"password":"text"),t.xp6(2),t.Q6J("ngIf",u.password_confirmation.hasError("required")),t.xp6(1),t.Q6J("ngIf",u.form.hasError("notMatch")&&!u.password_confirmation.hasError("required")))},directives:[a.Ro,p.O5,n._Y,n.JL,n.sg,n.Fj,n.JJ,n.u,i.yS],styles:["@media (max-width: 767px){.reset-password-box[_ngcontent-%COMP%]{border:none!important}}.reset-password-box[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{padding:40px}.reset-password-box[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-block;margin-top:3px;text-decoration:none}.reset-password-box[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{padding:0 40px 40px}.reset-password-box[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .confirm[_ngcontent-%COMP%]{text-align:left}"]}),e})()}];let P=(()=>{class e{}return e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[p.ez,i.Bz.forChild(_),n.UX,a.ef]]}),e})()}}]);